(this["webpackJsonpcalculator-higro"]=this["webpackJsonpcalculator-higro"]||[]).push([[0],{125:function(e,t,a){},126:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(10),s=a.n(r),l=(a(125),a(126),a(74)),c=a(31),o=a(99),d=a(100),u=a(110),h=a(109),b=a(263),j=a(275),p=a(274),m=a(268),g=a(106),f=a.n(g),x=a(105),v=a.n(x),O=a(3),C=Object(b.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),y=function(e){C();return e.change.map((function(t,a){return Object(O.jsx)("div",{children:Object(O.jsxs)(j.a,{flexDirection:"row",display:"flex",p:.5,justifyContent:"center",children:[Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(p.a,{type:"number",variant:"outlined",size:"small",label:"d [m]",id:"d [m]",min:"0",step:"0.001",name:"d",onChange:e.onChange,inputProps:{"data-id":"".concat(a)},defaultValue:e.change[a].d})}),Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(p.a,{type:"number",variant:"outlined",size:"small",label:"\u03bb [W/mK]",id:"l [m]",min:"0",step:"0.001",name:"l",onChange:e.onChange,inputProps:{"data-id":"".concat(a)},defaultValue:e.change[a].l})}),Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(p.a,{type:"number",variant:"outlined",label:"\u03bc",id:"\u03bc",min:"0",step:"0.001",size:"small",name:"u",onChange:e.onChange,inputProps:{"data-id":"".concat(a)},defaultValue:e.change[a].u})}),0===a?Object(O.jsx)(j.a,{p:1,m:.5,children:Object(O.jsx)(m.a,{"aria-label":"delete",size:"small",onClick:function(){return e.add()},children:Object(O.jsx)(v.a,{})})}):Object(O.jsx)(j.a,{p:1,m:.5,children:Object(O.jsx)(m.a,{"aria-label":"delete",size:"small",onClick:function(){return e.delete(t)},children:Object(O.jsx)(f.a,{})})})]})},t.index)}))},k=a(43),w=a(75),P=a(269),S=a(267),z=a(270),F=a(271),A=a(61),L=a.n(A),R=a(76),T=a(107),M=function(e){var t={labels:e.g,canvas:{backgroundColor:"rgba(50, 50, 50, 0.5)"},datasets:[{label:"Presiune par\u021bial\u0103 a vaporilor - P",data:e.p,fill:!1,backgroundColor:"rgb(63, 81, 181)",borderColor:"rgba(63, 81, 181, 0.5)",lineTension:0},{label:"Presiune de satura\u021bie - Ps",data:e.ps,fill:!1,backgroundColor:"rgb(181, 163, 63)",borderColor:"rgba(181, 163, 63, 0.5)",lineTension:0}]},a={labels:e.delta,canvas:{backgroundColor:"rgba(50, 50, 50, 0.5)"},datasets:[{label:"\u03b8",data:e.delta,fill:!1,backgroundColor:"rgb(63, 81, 181)",borderColor:"rgba(63, 81, 181, 0.5)",lineTension:0}]},i=Object(n.useRef)(null),r=Object(n.useRef)(null),s=Object(n.useState)(0),l=Object(k.a)(s,2),c=l[0],o=l[1],d=Object(n.useState)(0),u=Object(k.a)(d,2),h=u[0],b=u[1],p=Object(n.useState)(!1),m=Object(k.a)(p,2),g=m[0],f=m[1],x=Object(n.useState)(!1),v=Object(k.a)(x,2),C=v[0],y=v[1];Object(n.useEffect)((function(){o(i.current.chartInstance.toBase64Image()),b(r.current.chartInstance.toBase64Image()),e.p&&f(!0)}),[e.p]);var A="grafic_hidro_"+Date.now();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(P.a,{mt:10,children:[Object(O.jsx)(S.a,{elevation:2,children:Object(O.jsx)(j.a,{p:1,mb:5,height:500,children:Object(O.jsx)(w.Line,{data:t,options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{ticks:{beginAtZero:!1},scaleLabel:{display:!0,labelString:"Grosime [m]"}}],yAxes:[{ticks:{beginAtZero:!1},scaleLabel:{display:!0,labelString:"Presiune [Pa]"},gridLines:{display:!1}}]}},ref:i})})}),Object(O.jsx)(S.a,{elevation:2,children:Object(O.jsx)(j.a,{p:1,mb:5,height:500,children:Object(O.jsx)(w.Line,{data:a,options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{ticks:{beginAtZero:!1},scaleLabel:{display:!0,labelString:"\u03b8 [\xb0C]"}}],yAxes:[{ticks:{beginAtZero:!1},scaleLabel:{display:!0,labelString:"Temperatur\u0103 [\xb0C]"},gridLines:{display:!1}}]}},ref:r})})}),Object(O.jsx)(S.a,{elevation:10,children:Object(O.jsx)(j.a,{p:1,mb:5,alignItems:"center",children:Object(O.jsx)(z.a,{in:g,children:Object(O.jsxs)(j.a,{justifyContent:"space-around",display:"flex",children:[Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(F.a,{variant:"outlined",color:"primary",size:"small",startIcon:Object(O.jsx)(L.a,{}),onClick:function(){return Object(R.triggerBase64Download)(c,A)},children:"png grafic presiune"})}),Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(F.a,{variant:"outlined",color:"primary",size:"small",startIcon:Object(O.jsx)(L.a,{}),onClick:function(){return Object(R.triggerBase64Download)(h,A)},children:"png grafic temperatur\u0103"})}),C?Object(O.jsx)(T.CSVDownload,{data:e.output,target:"_self",filename:A}):function(){return y(!C)},Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(F.a,{variant:"outlined",color:"primary",size:"small",startIcon:Object(O.jsx)(L.a,{}),onClick:function(){y(!C)&&y(!C)},children:"csv rezultate"})})]})})})})]})})},W=a(5),D=a(277),N=a(272),V=a(273),I=a(108),B=a.n(I),Z=a(276),E=function(e){return Object(O.jsxs)("span",{className:"emoji",role:"img","aria-label":e.label?e.label:"","aria-hidden":e.label?"false":"true",children:[e.symbol," "]})},_=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).compute=function(){for(var e=[],t=[],a=[],i=[],r=[],s=[0],l=n.state,o=n.state.values,d=0,u=610.5*Math.exp(17.269*l.ti/(237.3+l.ti)),h=610.5*Math.exp(21.875*l.te/(265.5+l.te)),b=l.fi/100*u,j=l.fe/100*h,p=0;p<o.length;p++)a.push(o[p].d),i.push(o[p].l),r.push(o[p].u),0===o[p].l?e.push(0):e.push(o[p].d/o[p].l),t.push(o[p].d*o[p].u),d+=e[p];for(var m=[e[0]+l.rsi],g=[t[0]],f=0;f<o.length;f++){var x=Number(s[f]+o[f].d);s.push(parseFloat(x.toFixed(3)))}for(var v=1;v<o.length;v++)m.push(m[v-1]+e[v]),g.push(g[v-1]+t[v]);for(var O=d+l.rsi+l.rse,C=Number(l.ti-l.rsi/O*(l.ti-l.te)),y=[parseFloat(C.toFixed(3))],k=[u],w=1;w<=o.length;w++){var P=Number(l.ti-m[w-1]/O*(l.ti-l.te));y.push(parseFloat(P.toFixed(3)))}console.log(y);for(var S=0;S<y.length;S++)y[S]>0?(C=Number(610.5*Math.exp(17.269*y[S]/(237.3+y[S]))),k.push(parseFloat(C.toFixed(3)))):(C=Number(610.5*Math.exp(21.875*y[S]/(265.5+y[S]))),k.push(parseFloat(C.toFixed(3))));k.push(h),s.unshift("Ps_te"),s.push("Ps_ti");for(var z=[null,b],F=0;F<g.length;F++)C=Number(b-g[F]/g[t.length-1]*(b-j)),z.push(parseFloat(C.toFixed(3)));n.setState({P:z,Ps:k,g:s,delta:y});var A=[["ti [\xb0C]",n.state.ti],["te [\xb0C] ",n.state.te],["Rsi [\xb0C] ",n.state.rsi],["Rse [\xb0C] ",n.state.rse],["\u03c6i [%]",n.state.fi],["\u03c6e [%] ",n.state.fe],["d [m]"].concat(a),["\u03bb [W/mK]"].concat(i),["\u03bc"].concat(r),["P [Pa]"].concat(Object(c.a)(n.state.P)),["Ps [Pa]"].concat(Object(c.a)(n.state.Ps)),["\u03b8 [\xb0C]"].concat(Object(c.a)(n.state.delta)),["grosime [m]"].concat(Object(c.a)(n.state.g))];n.setState({output:n.transpose(A)}),console.log(n.state)},n.transpose=function(e){for(var t=[],a=0;a<e.length;a++){t.push([]);for(var n=0;n<e.length;n++)t[a].push(e[n][a])}return t},n.handleChange=function(e){["d","l","u","r"].includes(e.target.name)||["d","l","u","r"].includes(e.target.id)?(Object(c.a)(n.state.values)[e.target.dataset.id][e.target.name]=parseFloat(e.target.value),n.compute()):n.setState(Object(l.a)({},e.target.name,parseFloat(e.target.value)),(function(){n.compute()}))},n.addNewRow=function(){n.state.values.length<20?(n.setState((function(e){return{values:[].concat(Object(c.a)(e.values),[{index:Math.random(),d:"",l:"",u:"",r:""}])}})),n.compute()):n.setState({alert:1,alertText:"Po\u021bi avea maxim 10 straturi!"})},n.deleteRow=function(e){n.state.values.length>2?(n.setState({values:n.state.values.filter((function(t,a){return e!==a}))}),n.compute()):n.setState({alert:!0,alertText:"Po\u021bi avea minim 2 straturi!"})},n.rmAlert=function(){n.setState({alert:!1,alertText:""})},n.componentDidMount=function(){n.compute()},n.StyledContainer=Object(W.a)((function(e){return{root:Object(l.a)({paddingRight:"2px",paddingLeft:"2px"},e.breakpoints.only("xs"),{paddingRight:"0",paddingLeft:"0",marginRight:"0",marginLeft:"0"})}}))(P.a),n.state={output:"",ti:25,te:-18,rsi:.125,rse:.042,fi:50,fe:95,P:"",Ps:"",g:"",delta:"",lambdas:[{title:"Beton armat (1,74)",value:1.74},{title:"Lemn de pin \u0219i brad (0,17)",value:.17},{title:"Lemn de stejar \u0219i fag (0,23)",value:.23},{title:"Mortar de ciment (0,93)",value:.93},{title:"Mortar de ciment \u0219i var (0,87)",value:.87},{title:"Mortar de var (0,7)",value:.7},{title:"O\u021bel de construc\u021bii (58)",value:58},{title:"Polistiren celular (0,044)",value:.044},{title:"P\u0103m\xe2nt vegetal \xeen stare umed\u0103 (1,16)",value:1.16},{title:"Vat\u0103 mineral\u0103 (0,042)",value:.042},{title:"Zid\u0103rie din BCA (0,3)",value:.3},{title:"Zid\u0103rie din c\u0103r\u0103mizi cu goluri mari (0,46)",value:.46},{title:"Zid\u0103rie din c\u0103r\u0103mizi pline (0,8)",value:.8}],values:[{index:Math.random(),d:.05,l:.044,u:1},{index:Math.random(),d:.25,l:.46,u:20},{index:Math.random(),d:.2,l:.3,u:5},{index:Math.random(),d:.1,l:.044,u:30}]},n.compute(),n}return Object(d.a)(a,[{key:"clickOnDelete",value:function(e){this.state.values.length>2?(this.setState({values:this.state.values.filter((function(t){return t!==e}))}),this.compute()):this.setState({alert:!0,alertText:"Po\u021bi avea minim 2 straturi!"})}},{key:"render",value:function(){var e=this.state.values;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(this.StyledContainer,{maxWidth:"xl",children:Object(O.jsxs)("form",{onChange:this.handleChange,children:[Object(O.jsx)(D.a,{open:this.state.alert,autoHideDuration:6e3,onClose:this.rmAlert,children:Object(O.jsx)(N.a,{in:this.state.alert,children:Object(O.jsx)(Z.a,{severity:"error",action:Object(O.jsx)(m.a,{"aria-label":"close",color:"inherit",size:"small",onClick:this.rmAlert,children:Object(O.jsx)(B.a,{fontSize:"inherit"})}),children:this.state.alertText})})}),Object(O.jsxs)(P.a,{children:[Object(O.jsxs)(j.a,{mb:3,pt:5,children:[Object(O.jsx)(j.a,{mb:3,children:Object(O.jsxs)(V.a,{variant:"h3",component:"h3",align:"center",children:[Object(O.jsx)(E,{symbol:"\ud83e\uddee",label:"sheep"}),"Higrotermica Cl\u0103dirilor"]})}),Object(O.jsx)(j.a,{mb:3,children:Object(O.jsx)(V.a,{variant:"button",display:"block",align:"center",children:"Termodifuzia vaporilor de ap\u0103 prin elemente de anvelop\u0103"})})]}),Object(O.jsx)(S.a,{elevation:15,mt:3,children:Object(O.jsxs)(j.a,{mb:5,pb:3,children:[Object(O.jsxs)(j.a,{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",order:"ascending",display:"flex",p:3,mt:1,children:[Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(p.a,{type:"number",variant:"outlined",label:"ti [\xb0C]",id:"ti [\xb0C]",min:"0",step:"0.001",name:"ti",size:"small",onChange:this.handleChange,defaultValue:this.state.ti})}),Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(p.a,{type:"number",variant:"outlined",label:"te [\xb0C]",id:"te [\xb0C]",min:"0",step:"0.001",name:"te",size:"small",onChange:this.handleChange,defaultValue:this.state.te})}),Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(p.a,{type:"number",variant:"outlined",label:"Rsi [\xb0C]",id:"Rsi [\xb0C]",min:"0",step:"0.001",name:"rsi",size:"small",onChange:this.handleChange,defaultValue:this.state.rsi})}),Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(p.a,{type:"number",variant:"outlined",label:"Rse [\xb0C]",id:"Rse [\xb0C]",min:"0",step:"0.001",name:"rse",size:"small",onChange:this.handleChange,defaultValue:this.state.rse})}),Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(p.a,{type:"number",variant:"outlined",label:"\u03c6i [%]",id:"\u03c6i [%]",min:"0",step:"0.001",name:"fi",size:"small",onChange:this.handleChange,defaultValue:this.state.fi})}),Object(O.jsx)(j.a,{p:1,children:Object(O.jsx)(p.a,{type:"number",variant:"outlined",label:"\u03c6e [%]",id:"\u03c6e [%]",min:"0",step:"0.001",name:"fe",size:"small",onChange:this.handleChange,defaultValue:this.state.fe})})]}),Object(O.jsx)(y,{add:this.addNewRow,delete:this.clickOnDelete.bind(this),onChange:this.handleChange,change:e,lambdas:this.state.lambdas})]})}),Object(O.jsx)(M,{g:this.state.g,p:this.state.P,ps:this.state.Ps,delta:this.state.delta,output:this.state.output}),Object(O.jsx)(j.a,{p:2,children:Object(O.jsx)(V.a,{variant:"button",display:"block",align:"right",children:"\xa9 Said Sakuh 2021"})})]})]})})})}}]),a}(i.a.Component);a(233);var U=function(){return Object(O.jsx)(_,{})},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,279)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)}))};s.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(U,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/higro-calculator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/higro-calculator","/service-worker.js");H?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):J(t,e)}))}}(),K()}},[[234,1,2]]]);
//# sourceMappingURL=main.fe1cae59.chunk.js.map